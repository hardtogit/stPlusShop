(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/detail/coupon/coupon"],{"0291":function(t,o,n){"use strict";var e=n("f8e8"),r=n.n(e);r.a},"10a7":function(t,o,n){"use strict";(function(t){function n(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);o&&(e=e.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),n.push.apply(n,e)}return n}function e(t){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{};o%2?n(Object(e),!0).forEach((function(o){r(t,o,e[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):n(Object(e)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(e,o))}))}return t}function r(t,o,n){return o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n,t}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a={data:function(){return{id:null,ctx:this.$ctx,coupon:{},store:{},couponList:[]}},onShow:function(){this.getData()},methods:{getData:function(){var t=this;this.$getJson("/api/v3/coupon/info.jsp",{id:this.id},"POST",(function(o){t.coupon=o.data,console.log(o,"coupon"),t.$getJson("/api/v2/vue/sqPlus/company/companyInfo.jsp",{data:JSON.stringify({companyId:o.data.storeId})},"POST",(function(o){t.store=e({},o.data.cjCompany,{storeId:o.data.cjCompany.id})})),t.$getJson("/api/v2/vue/sqPlus/coupon/couponList.jsp",{companyId:o.data.storeId,pageNumber:1},"POST",(function(o){t.couponList=o.data}))}))},call:function(){wx.makePhoneCall({phoneNumber:this.store.serviceNo})},buy:function(){console.log(this.productInfo);var o={hot:[],platform:[],coupon:[]};o.coupon.push({store:this.store,list:[{cpCart:{goodsCount:1},goods:this.coupon}]}),t.setStorageSync("goodsData",o),t.navigateTo({url:"/pages/home/order/createOrder"})},addCart:function(o){var n=this,e={goodsId:o,goodsType:3};this.$getJson("/api/v2/vue/ydd/cart/addCart.jsp",{data:JSON.stringify(e)},"POST",(function(o){console.log("----res------------",o),1==o.data?(t.showToast({title:"加入成功",icon:"none"}),n.cartCount+=1):t.showToast({title:o.message,icon:"none"})}))},changeCoupon:function(t){this.id=t,this.getData()},openLocation:function(){wx.openLocation({latitude:this.store.lat,longitude:this.store.lng,name:this.store.address,address:this.store.addressStr})}},onLoad:function(t){this.id=t.id||26}};o.default=a}).call(this,n("543d")["default"])},"656c":function(t,o,n){"use strict";(function(t){n("ced0");e(n("66fd"));var o=e(n("ac60"));function e(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,n("543d")["createPage"])},7930:function(t,o,n){"use strict";var e,r=function(){var t=this,o=t.$createElement;t._self._c},a=[];n.d(o,"b",(function(){return r})),n.d(o,"c",(function(){return a})),n.d(o,"a",(function(){return e}))},"97cf":function(t,o,n){"use strict";n.r(o);var e=n("10a7"),r=n.n(e);for(var a in e)"default"!==a&&function(t){n.d(o,t,(function(){return e[t]}))}(a);o["default"]=r.a},ac60:function(t,o,n){"use strict";n.r(o);var e=n("7930"),r=n("97cf");for(var a in r)"default"!==a&&function(t){n.d(o,t,(function(){return r[t]}))}(a);n("0291");var c,i=n("f0c5"),s=Object(i["a"])(r["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],c);o["default"]=s.exports},f8e8:function(t,o,n){}},[["656c","common/runtime","common/vendor"]]]);