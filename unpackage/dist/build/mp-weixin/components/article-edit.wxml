<view class="article-edit"><view class="container"><block wx:for="{{dataSource}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view><block wx:if="{{item.type=='text'}}"><view><block wx:if="{{item.editting==false}}"><view class="text"><view class="tools"><image class="image" src="../static/icon/user/edit.png" data-event-opts="{{[['tap',[['editText',[index]]]]]}}" bindtap="__e"></image><image class="image" src="../static/icon/user/del.png" data-event-opts="{{[['tap',[['deleteItem',[index]]]]]}}" bindtap="__e"></image></view>{{''+item.value+''}}</view></block><block wx:if="{{item.editting==true}}"><view class="text"><view class="tools"><view data-event-opts="{{[['tap',[['sure']]]]}}" class="sure" bindtap="__e">确定</view></view><block wx:if="{{item.editting==true}}"><textarea data-event-opts="{{[['input',[['__set_model',['$0','value','$event',[]],[[['dataSource','',index]]]]]]]}}" class="text-edit" value="{{item.value}}" bindinput="__e"></textarea></block></view></block></view></block><block wx:if="{{item.type=='image'}}"><view class="text"><view class="tools"><image class="image" src="../static/icon/user/edit.png" data-event-opts="{{[['tap',[['editImage',[index]]]]]}}" bindtap="__e"></image><image class="image" src="../static/icon/user/del.png" data-event-opts="{{[['tap',[['deleteItem',[index]]]]]}}" bindtap="__e"></image></view><image class="image" src="{{ctx+item.value}}" mode="aspectFit"></image></view></block></view></block><view class="text"><view class="tools"><view data-event-opts="{{[['tap',[['addText']]]]}}" class="sure" bindtap="__e">确认添加</view></view><textarea class="textarea" name id cols="30" rows="10" placeholder="请填写..." data-event-opts="{{[['input',[['__set_model',['','currentText','$event',[]]]]]]}}" value="{{currentText}}" bindinput="__e"></textarea></view><view data-event-opts="{{[['tap',[['addImg']]]]}}" class="btns" bindtap="__e">添加图片</view></view></view>