(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/user/order/order"],{"00de":function(e,t,n){"use strict";n.r(t);var o=n("e124"),a=n("eded");for(var r in a)"default"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);n("3072");var i,s=n("f0c5"),u=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],i);t["default"]=u.exports},3072:function(e,t,n){"use strict";var o=n("934f"),a=n.n(o);a.a},"675a":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o(n("3e05"));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){return n.e("components/uni-load-more/uni-load-more").then(n.bind(null,"b781"))},r=function(){return n.e("components/empty").then(n.bind(null,"7184"))},i={components:{uniLoadMore:a,empty:r},data:function(){return{tabCurrentIndex:0,navList:[{name:"待付款",id:1},{name:"已付款",id:2},{name:"已完成",id:3},{name:"已取消",id:4},{name:"售后",id:5}],headerPosition:"fixed",orderList:[],memberId:e.getStorageSync("userInfo").id,pageSize:10,pageNumber:1,status:"",loadingType:"",url:this.$ctx,isCheapPurchase:0}},onPageScroll:function(e){e.scrollTop>=0?this.headerPosition="fixed":this.headerPosition="absolute"},onPullDownRefresh:function(){this.pageNumber=1,this.orderList=[],this.loadData(1)},onReachBottom:function(){this.loadData()},onLoad:function(e){this.tabCurrentIndex=+e.index||0,this.isCheapPurchase=+e.isCheapPurchase,this.getTable()},methods:{goDetail:function(t){e.navigateTo({url:t})},buyBack:function(t){e.navigateTo({url:"/pagesA/user/backSale/backSale?id=".concat(t.order.id,"&orderNo=").concat(t.order.sn)})},getTable:function(){var e=this;this.$getJson("/jsp/api/order/getOrderStatus.jsp",{},"POST",function(t){e.loadData()})},loadData:function(t){var n=this,o=this.tabCurrentIndex,a=this.navList[o];this.status=a.id,this.$getJson("/api/v3/my/order/statusData.jsp",{pageNumber:this.pageNumber,pageSize:this.pageSize,status:this.status},"POST",function(o){var a=o.data;a.length>0?(1==n.pageNumber?n.orderList=a:n.orderList=n.orderList.concat(a),n.pageNumber+=1):n.loadingType="noMore",1==t?e.stopPullDownRefresh():e.hideLoading(),n.loadingType=a.length<8?"nomore":"more"})},changeTab:function(e){this.tabCurrentIndex=e.target.current,this.pageNumber=1,this.orderList=[],this.loadData()},tabClick:function(e){this.tabCurrentIndex=e,this.pageNumber=1,this.orderList=[]},deleteOrder:function(t,n){var o=this;e.showModal({content:"是否删除订单？",success:function(a){if(a.confirm){var r={data:JSON.stringify({id:t,memberId:e.getStorageSync("userInfo").id})};o.$getJson("/api/v2/vue/ydd/order/doDelOrder.jsp",r,"POST",function(t){e.hideLoading(),o.orderList.splice(n,1)})}}})},cancelOrder:function(t){var n=this;e.showModal({content:"是否取消订单？",success:function(o){o.confirm&&n.$getJson("/jsp/api/order/doCancel.jsp",{id:t.id,memberId:e.getStorageSync("userInfo").id},"POST",function(t){e.hideLoading(),1!=t.success&&"true"!=t.success||(n.pageNumber=1,n.orderList=[],n.loadData())})}})},copySn:function(t){e.setClipboardData({data:t,success:function(){e.showToast({title:t+"\r\n复制成功",icon:"none"})}})},orderStateExp:function(e){var t="",n="#ff0000";switch(+e){case 1:t="待付款";break;case 2:t="待发货";break;case 40:t="订单已关闭",n="#999";break}return{stateTip:t,stateTipColor:n}},pay:function(t){e.navigateTo({url:"/pages/money/pay?money="+t.order.shouldPayAmountShow+"&sn="+t.order.sn})}}};t.default=i}).call(this,n("543d")["default"])},"934f":function(e,t,n){},e124:function(e,t,n){"use strict";var o={"uni-load-more":()=>n.e("components/uni-load-more/uni-load-more").then(n.bind(null,"b781"))},a=function(){var e=this,t=e.$createElement;e._self._c},r=[];n.d(t,"b",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o})},e8f4:function(e,t,n){"use strict";(function(e){n("ced0"),n("921b");o(n("66fd"));var t=o(n("00de"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},eded:function(e,t,n){"use strict";n.r(t);var o=n("675a"),a=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);t["default"]=a.a}},[["e8f4","common/runtime","common/vendor"]]]);