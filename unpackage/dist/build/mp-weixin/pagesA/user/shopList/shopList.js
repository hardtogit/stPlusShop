(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/user/shopList/shopList"],{"0445":function(t,n,o){"use strict";var e=o("4a66"),i=o.n(e);i.a},"04cf":function(t,n,o){"use strict";(function(t){function e(t){return c(t)||a(t)||s(t)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,n){if(t){if("string"===typeof t)return r(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(o):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(t,n):void 0}}function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function c(t){if(Array.isArray(t))return r(t)}function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,e=new Array(n);o<n;o++)e[o]=t[o];return e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=function(){o.e("components/uni-popup/uni-popup").then(function(){return resolve(o("4a96"))}.bind(null,o)).catch(o.oe)},p={components:{uniPopup:u},data:function(){return{ctx:this.$ctx,dataList:[],entrance:"",companyId:"",noData:"",contentText:"正在加载...",pageNumber:1,obj:{},type:""}},onBackPress:function(){if(""!==this.type)return this.type="",!0},onLoad:function(t){this.entrance=t.entrance,this.companyId=t.companyId,this.getDataList()},onShow:function(){console.log("this.companyId",this.companyId),this.noData=10,this.dataList=[],this.contentText="正在加载...",this.pageNumber=1,this.getDataList()},onReachBottom:function(){this.pageNumber++,console.log(this.pageNumber),this.getDataList()},methods:{goEdit:function(n){t.navigateTo({url:"/pagesA/user/shopList/editShop?id=".concat(n)})},doAction:function(n,o){var e=this;4!=o?this.$getJson("/api/v3/store/actions.jsp",{type:1,ids:n,action:o,storeId:202},"GET",(function(n){n.success?(t.showToast({title:"操作成功",icon:"none"}),console.log("this.companyId",e.companyId),e.noData=10,e.dataList=[],e.contentText="正在加载...",e.pageNumber=1,e.getDataList()):t.showToast({title:"操作成功",icon:"none"})})):t.showModal({title:"系统提示",content:"确定删除该商品？",success:function(i){i.confirm&&e.$getJson("/api/v3/store/actions.jsp",{type:1,ids:n,action:o,storeId:202},"GET",(function(n){n.success?(t.showToast({title:"操作成功",icon:"none"}),console.log("this.companyId",e.companyId),e.noData=10,e.dataList=[],e.contentText="正在加载...",e.pageNumber=1,e.getDataList()):t.showToast({title:"操作成功",icon:"none"})}))}})},getDataList:function(){var t=this;this.noData<10?this.contentText="没有更多数据了":(this.contentText="正在加载...",this.$getJson("/api/v2/vue/sqPlus/resources/resourcesList.jsp",{companyId:this.companyId||202,pageNumber:this.pageNumber,pageSize:10,isManager:1},"POST",(function(n){console.log("----------------",n),t.dataList=[].concat(e(t.dataList),e(n.data)),t.noData=n.data.length,t.noData<10?t.contentText="没有更多数据了":t.contentText="上拉显示更多"})))},visual:function(t){var n=this;this.$getJson("/api/v2/vue/sqPlus/resources/resourcesIsExplosive.jsp",{data:JSON.stringify({resourcesId:t.id})},"POST",(function(o){n.dataList.forEach((function(n,o){n.id==t.id&&(0==n.isExplosive?n.isExplosive=1:n.isExplosive=0)}))}))},togglePopup:function(t,n){console.log(n),this.type=t,this.obj=n},delRes:function(){var t=this;console.log(this.obj),this.$getJson("/jsp/api/resources/delResources.jsp",{resourcesId:this.obj.id},"POST",(function(n){t.dataList.forEach((function(n,o){n.id==t.obj.id&&(t.dataList.splice(o,1),t.type="",t.obj={})}))}))},addShop:function(n){t.navigateTo({url:"/pagesA/user/shopList/addShop?isCard=1&resourcesId="+n})},shopDetails:function(n){t.navigateTo({url:"/pagesA/shopList/shopDetails?isCard=1&resourcesId="+n})}}};n.default=p}).call(this,o("543d")["default"])},"2afd":function(t,n,o){"use strict";var e={uniPopup:function(){return o.e("components/uni-popup/uni-popup").then(o.bind(null,"4a96"))}},i=function(){var t=this,n=t.$createElement;t._self._c},s=[];o.d(n,"b",(function(){return i})),o.d(n,"c",(function(){return s})),o.d(n,"a",(function(){return e}))},"4a66":function(t,n,o){},"7c3c":function(t,n,o){"use strict";o.r(n);var e=o("2afd"),i=o("e33e");for(var s in i)"default"!==s&&function(t){o.d(n,t,(function(){return i[t]}))}(s);o("0445");var a,c=o("f0c5"),r=Object(c["a"])(i["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],a);n["default"]=r.exports},c310:function(t,n,o){"use strict";(function(t){o("ced0");e(o("66fd"));var n=e(o("7c3c"));function e(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,o("543d")["createPage"])},e33e:function(t,n,o){"use strict";o.r(n);var e=o("04cf"),i=o.n(e);for(var s in e)"default"!==s&&function(t){o.d(n,t,(function(){return e[t]}))}(s);n["default"]=i.a}},[["c310","common/runtime","common/vendor"]]]);