(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/businessCard/businessCardList"],{"07dc":function(e,n,t){"use strict";(function(e){t("ced0");s(t("66fd"));var n=s(t("3ac2"));function s(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},1215:function(e,n,t){"use strict";var s=t("cdba"),o=t.n(s);o.a},"3ac2":function(e,n,t){"use strict";t.r(n);var s=t("66a0"),o=t("6f04");for(var i in o)"default"!==i&&function(e){t.d(n,e,(function(){return o[e]}))}(i);t("1215");var u,r=t("f0c5"),a=Object(r["a"])(o["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],u);n["default"]=a.exports},"66a0":function(e,n,t){"use strict";var s,o=function(){var e=this,n=e.$createElement;e._self._c},i=[];t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return s}))},"6f04":function(e,n,t){"use strict";t.r(n);var s=t("bbe4"),o=t.n(s);for(var i in s)"default"!==i&&function(e){t.d(n,e,(function(){return s[e]}))}(i);n["default"]=o.a},bbe4:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(){t.e("components/uni-load-more/uni-load-more").then(function(){return resolve(t("b781"))}.bind(null,t)).catch(t.oe)},o=function(){t.e("components/uni-popup/uni-popup").then(function(){return resolve(t("4a96"))}.bind(null,t)).catch(t.oe)},i={components:{uniPopup:o,uniLoadMore:s},data:function(){return{ctx:this.$ctx,roofPlacementList:[],cjUserCards:[],userId:"",pageNumber:1,contentText:"正在加载...",noData:10,type:"",obj:{},businessMoreShow:!1,businessMoreIndex:null,businessMoreIndexZD:null}},onLoad:function(e){this.userId=e.userId,this.getDataList()},onBackPress:function(){if(""!==this.type)return this.type="",!0},onReachBottom:function(){this.pageNumber++,console.log(this.pageNumber),this.getDataList()},methods:{businessMoreBtn:function(e){if(console.log(this.businessMoreIndex,e),this.businessMoreIndex==e)return this.businessMoreIndex=null;this.businessMoreIndex=e,this.businessMoreIndexZD=null},businessMoreBtnZD:function(e){if(console.log(this.businessMoreIndexZD,e),this.businessMoreIndexZD==e)return this.businessMoreIndexZD=null;this.businessMoreIndexZD=e,this.businessMoreIndex=null},toDetail:function(n){e.navigateTo({url:"/pages/businessCard/cardDetail?userCardId="+n.id})},getDataList:function(){var e=this;this.noData<10?this.contentText="没有更多数据了":(this.contentText="正在加载...",this.$getJson("/api/v2/vue/sqPlus/card/cardHistoryList.jsp",{data:JSON.stringify({userId:this.userId,pageNumber:this.pageNumber})},"POST",(function(n){console.log("res",n),e.roofPlacementList=n.data.roofPlacementList,n.data.cjUserCards.forEach((function(n){e.cjUserCards.push(n)})),e.noData=n.data.cjUserCards.length,e.noData<10?e.contentText="没有更多数据了":e.contentText="上拉显示更多"})))},togglePopup:function(e,n){this.obj=n,this.type=e},zhidingtop:function(e,n){var t=this;this.$getJson("/api/v2/vue/sqPlus/card/doRoofPlacement.jsp",{data:JSON.stringify({userCardId:e.id})},"POST",(function(s){console.log(e),t.roofPlacementList.splice(n,1),t.cjUserCards.push(e),t.businessMoreIndex=null,t.businessMoreIndexZD=null}))},zhiding:function(e,n){var t=this;this.$getJson("/api/v2/vue/sqPlus/card/doRoofPlacement.jsp",{data:JSON.stringify({userCardId:e.id})},"POST",(function(s){console.log(e),t.cjUserCards.splice(n,1),t.roofPlacementList.unshift(e),t.businessMoreIndex=null,t.businessMoreIndexZD=null}))},dodel:function(n,t,s){var o=this;e.showModal({title:"提示",content:"确认删除"+n.cjUser.realName+"的名片吗",success:function(e){e.confirm?o.$getJson("/api/v2/vue/sqPlus/card/delUserCard.jsp",{data:JSON.stringify({userCardId:n.id})},"POST",(function(e){console.log(n),0==s?o.cjUserCards.splice(t,1):o.roofPlacementList.splice(t,1)})):e.cancel&&console.log("用户点击取消")}})}}};n.default=i}).call(this,t("543d")["default"])},cdba:function(e,n,t){}},[["07dc","common/runtime","common/vendor"]]]);